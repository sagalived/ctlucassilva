{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}CT Lucas Silva{% endblock %}</title>
    
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    
    {% block extra_css %}{% endblock %}
</head>
<body>
    
    <header>
        <nav class="main-nav">
            <div class="logo">
                <img src="{% static 'img/logo-claro.png' %}" alt="Logo CT Lucas Silva" class="logo-light" id="logo-main">
    
                <img src="{% static 'img/logo-escuro.png' %}" alt="Logo CT Lucas Silva Dark" class="logo-dark">
            </div>
            
            <div class="nav-links-and-toggle">
                <ul>
                    <li><a href="{% url 'ct_core:home' %}" class="{% if request.resolver_match.url_name == 'home' %}active{% endif %}">In√≠cio</a></li>
                    <li><a href="{% url 'ct_core:sobre' %}" class="{% if request.resolver_match.url_name == 'sobre' %}active{% endif %}">Sobre N√≥s</a></li>
                    <li><a href="{% url 'ct_core:planos' %}" class="{% if request.resolver_match.url_name == 'planos' %}active{% endif %}">Nossos Planos</a></li>
                    <li><a href="{% url 'ct_core:galeria' %}" class="{% if request.resolver_match.url_name == 'galeria' %}active{% endif %}">Galeria</a></li>
                    <li><a href="{% url 'ct_core:contato' %}" class="{% if request.resolver_match.url_name == 'contato' %}active{% endif %}">Contato</a></li>
                </ul>

                <button id="theme-toggle" class="btn btn-secondary" title="Alternar tema claro/escuro">
                    ‚òÄÔ∏è
                </button>

                <a href="{% url 'ct_core:planos' %}" class="btn btn-primary">Agende sua Aula Gr√°tis!</a>
            </div>
        </nav>
    </header>

    <main>
        {% block content %}
            {% endblock %}
    </main>
    
    <footer>
        <div class="footer-content">
            <p>&copy; {% now "Y" %} CT Lucas Silva. Todos os direitos reservados.</p>
            <nav class="footer-nav">
                <a href="{% url 'ct_core:contato' %}">Fale Conosco</a> |
                <a href="{% url 'ct_core:localizacao' %}">Nosso Endere√ßo</a>
            </nav>
        </div>
    </footer>

    {% block extra_js %}
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleButton = document.getElementById('theme-toggle');
            const body = document.body;
            const storedTheme = localStorage.getItem('theme');

            // 1. Aplica o tema armazenado ou o padr√£o (claro)
            if (storedTheme === 'dark') {
                body.classList.add('dark-mode');
                toggleButton.textContent = 'üåô';
            } else {
                toggleButton.textContent = '‚òÄÔ∏è';
            }
            // 2. Alterna o tema ao clicar no bot√£o
            toggleButton.addEventListener('click', () => {
                if (body.classList.contains('dark-mode')) {
                    // Mudar para o tema claro
                    body.classList.remove('dark-mode');
                    localStorage.setItem('theme', 'light');
                    toggleButton.textContent = '‚òÄÔ∏è';
                } else {
                    // Mudar para o tema escuro
                    body.classList.add('dark-mode');
                    localStorage.setItem('theme', 'dark');
                    toggleButton.textContent = 'üåô';
                }
            });
        });
    </script>
    {% endblock %}

</body>
</html>